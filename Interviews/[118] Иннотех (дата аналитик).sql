--Задача 1

--запрос 2
select *
from table1
order by col_1, col_2 desc


--Задача 2

col_1       col_2
1           1
2           2
4           3
null        null
null

inner join =
1   |   1
2   |   2


--Задача 3
left join =

1           1
2           2
4           null
null        null
null        null


--Задача 4
будет ошибка, в группировке кол_2, а в выводк ол_2 и кол_1

--Задача 5
from, where, select

--Задача 6
Что вернет данный запрос
SELECT * FROM any table WHERE parent id = parent_id

Все строки таблицы any_table, у которых parent_id IS NOT NULL.

--Задача 7
Сколько строк вернут запрос?
SELECT *
FROM table1
WHERE s.USERNAME like '%'

все строки из table1, у которых username IS NOT NULL

--Задача 8

удаление всех, кроме мах значений

--Задача 9
SELECT 1
UNION ALL
SELECT 1
UNION
SELECT 1;

Результат будет 1 строка


--Задача 10
-- №1
SELECT COUNT(*) AS cnt
FROM Table_1;

считает все строки, в том числе с NULL в Col_1

-- №2
SELECT COUNT(DISTINCT Col_1) AS cnt
FROM Table_1;

считает только уникальные НЕ-NULL значения в Col_1.

запрос 1 вернет больше строк, если в таблице будут null или будут повторяющиеся строки



--Задача 11
--Нужно отразить связь «многие-ко-многим»:
--один преподаватель → много дисциплин,
--одна дисциплина → много преподавателей.
--Это делается через три таблицы.


1. Таблица преподавателей
teacher (teacher_id (PK), last_name, first_name, work_position)

2. Таблица дисциплин
discipline (discipline_id (PK) , name, description, hours)


3. Связующая таблица «преподаватель–дисциплина»
teacher_discipline (teacher_id (FK), discipline_id(FK))
primary key (teacher_id, discipline_id)



--Задача 12
--Сценарий в задаче:
--Есть CRM, в ней — личный кабинет сотрудника (менеджер/продажник).
--Есть внешняя компания, которая генерит лиды и передаёт их вам.
--Внутренний заказчик говорит:
--«Нужно в CRM:видеть входящие лиды от внешней компании,
--закреплять ответственных за лидом,
--получать отчётность по воронке».
--Вопрос: какие базовые (первые) вопросы ты задашь заказчику, чтобы понять задачу?

Задать вопросы про:

- данные,
- бизнес-процесс,
- роли и интерфейс,
- отчётность.

### 1. Про источник и формат лидов

1. Как внешняя компания сейчас передает лиды: файл, email, API, веб-форма?
2. Какой у лидов формат данных (ФИО, телефон, email, продукт, бюджет и т.п.)?
3. Нужны ли обязательные поля? Какие?
4. Есть ли уникальный идентификатор лида с внешней стороны? Как бороться с дублями?

### 2. Про процесс и воронку

1. Какие статусы проходит лид в вашей CRM? (новый, в работе, контакт установлен, сделка, отказ и т.п.)
2. Какие этапы воронки нужно видеть в отчётности?
3. Какие события считаются “переходом” между этапами — изменение статуса, создание задачи, звонок?

### 3. Про назначение ответственных

1. Как именно должен назначаться ответственный:
    - вручную из списка?
    - по правилам (по городу, по продукту, по нагрузке)?
2. Может ли у лида быть несколько ответственных? Роли (основной, помощник)?
3. Нужно ли логировать историю смены ответственных?

### 4. Про интерфейс в личном кабинете

1. Что именно сотрудник должен видеть в кабинете:
    - список только “своих” лидов?
    - общую очередь?
2. Какие фильтры/поиск нужны (по дате поступления, статусу, источнику, городу и т.д.)?
3. Какие действия доступны с карточкой лида (изменить статус, создать сделку, поставить задачу, написать письмо)?

### 5. Про отчётность по воронке

1. Какие метрики нужны: количество лидов на этапе, конверсия между этапами, время на этапе, выручка?
2. За какие периоды: день/неделя/месяц, по источнику (только внешняя компания или сравнение с другими)?
3. Нужна ли разбивка по сотрудникам/подразделениям?

### 6. Про доступы и ограничения

1. Кто из сотрудников должен видеть **все** лиды, а кто только свои?
2. Нужен ли отдельный доступ для внешней компании (смотреть статусы своих лидов)?

### 7. Технические и организационные

1. Есть ли уже API или интеграции CRM, к которым мы должны подключиться?
2. Какие сроки, приоритеты и ограничения по проекту (сначала минимальный функционал, потом отчётность и т.д.)?


--